webpackJsonp([1],{0:function(e,t,n){e.exports=n("cDNt")},"0GDN":function(e,t){e.exports="<p>\n  progress-bar works!\n</p>\n"},1:function(e,t){},"4uzM":function(e,t){e.exports='<p>please, login</p>\n\n<button (click)="githubLogin()" class="button">with github</button>\n<button (click)="facebookLogin()" class="button">with facebook</button>\n'},"4wGU":function(e,t,n){(e.exports=n("rP7Y")(!1)).push([e.i,"",""]),e.exports=e.exports.toString()},"5op3":function(e,t,n){(e.exports=n("rP7Y")(!1)).push([e.i,"",""]),e.exports=e.exports.toString()},"84CV":function(e,t){e.exports='<h2>Ranking</h2>\n<table>\n  <tbody>\n    <tr *ngFor="let participant of gameService.ranking">\n      <td>{{ participant.user }}</td>\n      <td>{{ participant.score }}</td>\n    </tr>\n  </tbody>\n</table>\n'},BZHD:function(e,t,n){(e.exports=n("rP7Y")(!1)).push([e.i,"",""]),e.exports=e.exports.toString()},Dk7z:function(e,t,n){(e.exports=n("rP7Y")(!1)).push([e.i,"",""]),e.exports=e.exports.toString()},I1xy:function(e,t){e.exports='<div *ngIf="gameService.game">\n  <header>\n    <p><small>GAME NAME: {{ gameService.game.name }}<br>USER ID: {{ auth.user.id }}<br>GAME ID: {{ gameService.game.id }}<br>Status: {{ gameService.game.status }}</small></p>\n  </header>\n  <section class="messages" *ngIf="gameService.serviceStatus == \'open\'">\n    <div *ngIf="gameService.game.creator !== auth.user.id">\n      <p>{{ gameService.gameMessage }}</p>\n    </div>\n    <div>\n      <ul>\n        <li *ngFor="let user of gameService.joinedUsers">\n          El usuario {{ user.username }} se ha unido al juego\n        </li>\n      </ul>\n    </div>\n    <div *ngIf="gameService.game.creator == auth.user.id">\n      <button (click)="startGame()" [disabled]="gameService.gameInPlay">START THE GAME</button>\n      <button (click)="finishGame()">FINISH THE GAME</button>\n    </div>\n  </section>\n\n  <div *ngIf="gameService.currentQuestion">\n    <game-questions [question]="gameService.currentQuestion"></game-questions>\n  </div>\n\n  <game-results *ngIf="gameService.showResults"></game-results>\n  <game-ranking *ngIf="gameService.showRanking"></game-ranking>\n\n</div>\n'},I3yk:function(e,t){e.exports='<p>Question component</p>\n<div *ngIf="question">\n  <p>{{ question.category }}</p>\n  <img *ngIf="question.questionIsImg" [src]="question.questionImg">\n  <pre *ngIf="question.questionIsCode">\n    <code [class]="question.category">\n{{ question.questionCode }}\n    </code>\n  </pre>\n  <p>{{ question.question }}</p>\n  <hr>\n  <div *ngFor="let answer of question.answers"\n      (click)="setAnswer(answer)"\n      [class.active]="getToggler(answer)"\n      class="answer-wrapper">\n    {{ answer }}\n  </div>\n</div>\n'},YuZA:function(e,t){function n(e){return Promise.resolve().then(function(){throw new Error("Cannot find module '"+e+"'.")})}n.keys=function(){return[]},n.resolve=n,e.exports=n,n.id="YuZA"},auOE:function(e,t){e.exports='<h2>Home: Game selector</h2>\n<button (click)="logout()">Logout</button>\n<div *ngIf="openGames; else noOpenGames">\n  <p>Join a game</p>\n  <ul>\n    <li *ngFor="let game of openGames" class="game-item">\n      <a [routerLink]="[\'/game\', game.id]"><strong>{{ game.name }}</strong></a> | Number of Players: {{ game.participants.length }}\n      <button (click)="joinGame(game.id)">Join this game</button>\n    </li>\n  </ul>\n</div>\n<ng-template #noOpenGames>\n  <div><p>There are no open games right now</p></div>\n</ng-template>\n<hr>\n<p>Or create a new one</p>\n<form>\n  <label>name\n    <input type="text" [(ngModel)]="gameName" name="gameName">\n  </label>\n  <button (click)="newGame(gameName)">New Game</button>\n</form>\n'},cDNt:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n("LMZF"),o=n("x8Hs"),r=n("UHIZ"),a=n("9iV4"),s=(n("GQSG"),n("HT7u"),n("U6yM")),c={production:!0,apiUrl:""},u=this&&this.__decorate||function(e,t,n,i){var o,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(r<3?o(a):r>3?o(t,n,a):o(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a},p=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},h=function(){function e(e){this.http=e,this.loginEvent=new i.v,this.isAuthenticated()}return e.prototype.checkAuthentication=function(){return null!==this.user&&void 0!==this.user},e.prototype.isAuthenticated=function(){var e=this;return this.http.get(c.apiUrl+"/auth/user").subscribe(function(t){e.setUser(t)},function(t){e.handleError})},e.prototype.authGithub=function(){window.location.href=c.apiUrl+"/auth/github"},e.prototype.authFacebook=function(){window.location.href=c.apiUrl+"/auth/facebook"},e.prototype.authLogout=function(){var e=this;return this.http.get(c.apiUrl+"/auth/logout").map(function(t){return e.setUser(null)})},e.prototype.setUser=function(e){return this.user=e,this.loginEvent.emit(e),this.user},e.prototype.handleError=function(e){return console.error(e),s.a.throw(e.json())},e=u([Object(i.A)(),p("design:paramtypes",[a.b])],e)}(),f=this&&this.__decorate||function(e,t,n,i){var o,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(r<3?o(a):r>3?o(t,n,a):o(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a},l=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},g=function(){function e(e,t){this.authService=e,this.router=t}return e.prototype.canActivate=function(e,t){var n=this.authService.checkAuthentication();return n||this.router.navigate(["login"]),n},e=f([Object(i.A)(),l("design:paramtypes",[h,r.b])],e)}(),m=n("MjLF"),d=n("xrDH"),b=this&&this.__decorate||function(e,t,n,i){var o,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(r<3?o(a):r>3?o(t,n,a):o(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a},y=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},v=function(){function e(e){this.http=e,this.baseUrl=c.apiUrl+"/api",this.serviceStatus="open",this.gameInPlay=!1,this.gameFinished=!1,this.showResults=!1,this.showRanking=!1,this.joinedUsers=[],this.gameMessage="Please wait, the game should start shortly",this.currentQuestion=null,this.currentQuestionIndex=null,this.questionTime=null,this.answers=[],this.correctAnswers=[],this.wrongAnswers=[],this.score=0,this.ranking=[],this.socket=m.connect(c.apiUrl),this.socket.on("recibe-user",function(e){d.includes(this.joinedUsers,e)||this.joinedUsers.push(e)}.bind(this)),this.socket.on("start-game",function(e){this.gameMessage="Game is about to start",this.serviceStatus="playing",this.gameInPlay=!0}.bind(this)),this.socket.on("question",function(e){e.question.answers=d.shuffle(e.question.answers),this.currentQuestion=e.question,this.questionTime=e.timeRemaining,this.currentQuestionIndex=e.questionIndex}.bind(this)),this.socket.on("calculate-game",function(e){console.log("Ya est\xe1n todas las preguntas, veamos quien ha ganado"),this.gameMessage="The game is over",this.currentQuestion=e.question,this.questionTime=e.timeRemaining,this.currentQuestionIndex=e.questionIndex,this.calculateGame(),this.serviceStatus="finished",this.showResults=!0,this.gameInPlay=!1}.bind(this)),this.socket.on("game-end",function(e){console.log("El juego ha terminado, veamos el ranking"),this.gameMessage="This is the ranking",this.showResults=!1,this.showRanking=!0,this.ranking=e.ranking})}return e.prototype.joinGame=function(e){var t=this;this.http.put(this.baseUrl+"/game/"+e,{}).map(function(e){var n=e.game;t.setGame(n);var i=n.participants.length,o=n.participants[i-1];t.socket.emit("join-game",{gameId:n.id,userId:o.id})}).catch(this.handleError).subscribe()},e.prototype.calculateGame=function(){var e=this;console.log("The game '"+this.game.name+"' is being calculated."),this.score=d.sumBy(this.answers,function(e){return e.score}),this.wrongAnswers=d.filter(this.answers,function(e){return!e.guessed});var t={answers:this.answers,score:this.score};return this.http.put(this.baseUrl+"/user/answers?gameId="+this.game.id,t).subscribe(function(t){e.socket.emit("game-calculated",{gameID:e.game.id})})},e.prototype.adminStartGame=function(){var e=this,t=this.game.id;return console.log("Starting setted game "+t),this.http.put(this.baseUrl+"/game/start/"+t,{}).subscribe(function(t){console.log('Iniciando el juego: "'+t.id+'"'),e.socket.emit("init-game",{gameId:t.id})})},e.prototype.adminFinishGame=function(){var e=this.game.id;return this.http.put(this.baseUrl+"/game/finish/"+e,{}).catch(this.handleError)},e.prototype.setGame=function(e){this.game=e;for(var t=0;t<this.game.questions.length;t++){var n={};n._questionId=this.game.questions[t].id,n.category=this.game.questions[t].category,n.guessed=!1,n.score=0,this.answers.push(n);var i=this.game.questions[t].correctAnswer;this.correctAnswers.push(i)}return this.game},e.prototype.handleError=function(e){return console.error(e),s.a.throw(e.json())},e=b([Object(i.A)(),y("design:paramtypes",[a.b])],e)}(),j=this&&this.__decorate||function(e,t,n,i){var o,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(r<3?o(a):r>3?o(t,n,a):o(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a},w=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},R=function(){function e(e){this.http=e,this.baseUrl=c.apiUrl+"/api"}return e.prototype.createGame=function(e){return this.http.post(this.baseUrl+"/game",{gameName:e})},e.prototype.getOpenGames=function(){return this.http.get(this.baseUrl+"/games?status=open")},e.prototype.getInPlayGames=function(){return this.http.get(this.baseUrl+"/games?status=playing")},e.prototype.checkUserGames=function(e){return this.http.get(this.baseUrl+"/gameuser?id="+e)},e.prototype.getGame=function(e){return this.http.get(this.baseUrl+"/game?id="+e)},e=j([Object(i.A)(),w("design:paramtypes",[a.b])],e)}(),S=this&&this.__decorate||function(e,t,n,i){var o,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(r<3?o(a):r>3?o(t,n,a):o(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a},O=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},_=function(){function e(e,t,n,i){var o=this;this.gameService=e,this.gameManagerService=t,this.auth=n,this.router=i,this.gameManagerService.getOpenGames().subscribe(function(e){return o.openGames=e})}return e.prototype.ngOnInit=function(){var e=this;this.gameManagerService.checkUserGames(this.auth.user.id).subscribe(function(t){null!==t&&void 0!==t&&e.router.navigate(["game",t._gameId])})},e.prototype.logout=function(){var e=this;this.auth.authLogout().subscribe(function(){e.router.navigate(["login"])})},e.prototype.newGame=function(e){var t=this;this.gameManagerService.createGame(e).subscribe(function(e){t.joinGame(e.id)})},e.prototype.joinGame=function(e){this.router.navigate(["game",e])},e=S([Object(i.n)({selector:"app-home",template:n("auOE"),styles:[n("Dk7z")]}),O("design:paramtypes",[v,R,h,r.b])],e)}(),k=this&&this.__decorate||function(e,t,n,i){var o,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(r<3?o(a):r>3?o(t,n,a):o(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a},I=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},G=function(){function e(e,t){this.authService=e,this.router=t}return e.prototype.ngOnInit=function(){var e=this;this.authService.loginEvent.subscribe(function(t){e.router.navigate(["home"])})},e.prototype.githubLogin=function(){this.authService.authGithub()},e.prototype.facebookLogin=function(){this.authService.authFacebook()},e=k([Object(i.n)({selector:"app-login",template:n("4uzM"),styles:[n("im93")]}),I("design:paramtypes",[h,r.b])],e)}(),x=this&&this.__decorate||function(e,t,n,i){var o,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(r<3?o(a):r>3?o(t,n,a):o(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a},P=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},q=function(){function e(e){this.gameService=e}return e=x([Object(i.n)({selector:"game-results",template:n("k+WU"),styles:[n("5op3")]}),P("design:paramtypes",[v])],e)}(),U=this&&this.__decorate||function(e,t,n,i){var o,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(r<3?o(a):r>3?o(t,n,a):o(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a},A=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},D=function(){function e(e){this.gameService=e}return e=U([Object(i.n)({selector:"game-ranking",template:n("84CV"),styles:[n("ewhB")]}),A("design:paramtypes",[v])],e)}(),M=this&&this.__decorate||function(e,t,n,i){var o,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(r<3?o(a):r>3?o(t,n,a):o(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a},E=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},T=function(){function e(e,t,n,i){var o=this;this.gameService=e,this.route=t,this.auth=n,this.router=i,this.route.params.subscribe(function(e){o.gameService.joinGame(e.id)})}return e.prototype.startGame=function(){this.gameService.adminStartGame()},e.prototype.finishGame=function(){var e=this;this.gameService.adminFinishGame().subscribe(function(t){return e.router.navigate(["home"])})},M([Object(i._9)(q),E("design:type",q)],e.prototype,"results",void 0),M([Object(i._9)(D),E("design:type",D)],e.prototype,"ranking",void 0),e=M([Object(i.n)({selector:"app-game",template:n("I1xy"),styles:[n("BZHD")]}),E("design:paramtypes",[v,r.a,h,r.b])],e)}(),C=[{path:"",redirectTo:"login",pathMatch:"full"},{path:"login",component:G},{path:"home",component:_,canActivate:[g]},{path:"game/:id",component:T,canActivate:[g]},{path:"**",redirectTo:""}],N=n("0nO6"),F=function(){function e(){}return e.prototype.intercept=function(e,t){var n=e.clone({withCredentials:!0});return t.handle(n)},e}(),H=n("RyBE"),L=this&&this.__decorate||function(e,t,n,i){var o,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(r<3?o(a):r>3?o(t,n,a):o(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a},Q=function(){function e(){this.title="Iron Trivial"}return e=L([Object(i.n)({selector:"app-root",template:n("efyd")})],e)}(),Y=this&&this.__decorate||function(e,t,n,i){var o,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(r<3?o(a):r>3?o(t,n,a):o(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a},B=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},Z=function(){function e(e){this.gameService=e,this.toggler={active:""}}return e.prototype.getToggler=function(e){return this.toggler.active==e},e.prototype.setAnswer=function(e){var t=this.gameService.currentQuestionIndex;e==this.gameService.correctAnswers[t]&&(this.gameService.answers[t].guessed=!0,this.gameService.answers[t].score=1),this.toggler.active=e},Y([Object(i.D)(),B("design:type",Object)],e.prototype,"question",void 0),e=Y([Object(i.n)({selector:"game-questions",template:n("I3yk"),styles:[n("lmS7")]}),B("design:paramtypes",[v])],e)}(),z=this&&this.__decorate||function(e,t,n,i){var o,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(r<3?o(a):r>3?o(t,n,a):o(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a},J=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},V=function(){function e(){}return e.prototype.ngOnInit=function(){},e=z([Object(i.n)({selector:"app-progress-bar",template:n("0GDN"),styles:[n("4wGU")]}),J("design:paramtypes",[])],e)}(),W=this&&this.__decorate||function(e,t,n,i){var o,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(r<3?o(a):r>3?o(t,n,a):o(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a},K=function(){function e(){}return e=W([Object(i.I)({declarations:[Q,G,_,T,Z,V,q,D],imports:[H.a,a.c,N.a,r.c.forRoot(C)],providers:[{provide:a.a,useClass:F,multi:!0},h,v,R,g],bootstrap:[Q]})],e)}();c.production&&Object(i._14)(),Object(o.a)().bootstrapModule(K).catch(function(e){return console.log(e)})},efyd:function(e,t){e.exports="<router-outlet></router-outlet>\n"},ewhB:function(e,t,n){(e.exports=n("rP7Y")(!1)).push([e.i,"",""]),e.exports=e.exports.toString()},im93:function(e,t,n){(e.exports=n("rP7Y")(!1)).push([e.i,"",""]),e.exports=e.exports.toString()},"k+WU":function(e,t){e.exports='<p>Has acertado {{ gameService.score }} preguntas de 6</p>\n<div [ngSwitch]="gameService.score">\n  <p *ngSwitchCase="0">Claramente no te has enterado de nada en el bootcamp</p>\n  <p *ngSwitchCase="1">Necesitas mejorar mucho, rep\xe1sate las learning units!</p>\n  <p *ngSwitchCase="2">Podr\xeda haber sido peor, pero sigue aplic\xe1ndote, colega</p>\n  <p *ngSwitchCase="3">La mitad. Bueno \u2014ni tan mal\u2014, el dinero ha servido para algo</p>\n  <p *ngSwitchCase="4">Bastante bien, peque\xf1o saltamontes</p>\n  <p *ngSwitchCase="5">Solo has fallado una. Si se\xf1or! To flama!</p>\n  <p *ngSwitchCase="6">Con qui\xe9n hay que hablar para que te den el puesto de Marc?</p>\n</div>\n<div *ngIf="gameService.wrongAnswers.length > 0">\n  <p>Necesitas mejorar en:\n    <ul>\n      <li *ngFor="let w of gameService.wrongAnswers">{{ w.category }}</li>\n    </ul>\n</div>\n'},lmS7:function(e,t,n){(e.exports=n("rP7Y")(!1)).push([e.i,".answer-wrapper{cursor:pointer;border:1px solid #333;margin:1rem 0}.active{background:#cecece}",""]),e.exports=e.exports.toString()}},[0]);